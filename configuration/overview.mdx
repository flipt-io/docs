---
title: Overview
description: This document describes how to configure the Flipt server.
---

Flipt server can be configured in two ways.

Configuration precedence is as follows:

1. [Environment Variables](#environment-variables)
1. [Configuration File](#configuration-file)

## Configuration File

The default way that Flipt is configured is with the use of a configuration file
[default.yml](https://github.com/flipt-io/flipt/blob/main/config/default.yml).

This file is read when Flipt starts up and configures several important
properties for the server.

<Tip>
  You can generate a default configuration file by running `flipt config init`.
  See the [CLI](/cli) documentation for more information.
</Tip>

The server will check in a few different locations for server configuration (in order):

1. `--config` flag as an override
2. `{{ USER_CONFIG_DIR }}/flipt/config.yml` (the `USER_CONFIG_DIR` value is based on your architecture and specified in the [Go documentation](https://pkg.go.dev/os#UserConfigDir))
3. `/etc/flipt/config/default.yml`

<Note>
  We provide both a [JSON
  schema](https://raw.githubusercontent.com/flipt-io/flipt/main/config/flipt.schema.json)
  and a [Cue
  schema](https://raw.githubusercontent.com/flipt-io/flipt/main/config/flipt.schema.cue)
  that you can use to validate your configuration file and its properties.
</Note>

You can edit any of these properties to your liking, and on restart, Flipt will
pick up the new changes.

### Environment Substitution

The configuration file also supports environment variable substitution as of `v1.45.0`.

This allows you to use environment variables in your configuration file. For example, you can use the `FLIPT_CUSTOM_DB_URL` environment variable in the configuration file like this:

```yaml
db:
  url: ${FLIPT_CUSTOM_DB_URL}
```

This will replace `${FLIPT_CUSTOM_DB_URL}` with the value of the `FLIPT_CUSTOM_DB_URL` environment variable. The format for environment variable substitution is `${ENV_VAR}`.

<Tip>
  This can be used to provide sensitive information to Flipt without storing it
  in the configuration file. For example, you can use environment variables to
  store the database URL, API keys, or other sensitive information without
  having to conform to the pre-defined Flipt [environment variable
  format](#environment-variables).
</Tip>

### Remote Configuration

Flipt supports fetching configuration from a remote source. This is useful for managing configuration across multiple instances of Flipt. The remote configuration source can be a URL to a configuration file stored in one of the following object storage services:

- S3 (e.g.: `s3://bucket-name/path/to/config.yml`)
- Azure Blob Storage (e.g.: `azblob://container-name/path/to/config.yml`)
- Google Cloud Storage (e.g.: `googlecloud://bucket-name/path/to/config.yml`)

To load Flipt configuration from a remote source, replace the `config.yml` file with the URL to the remote configuration file in the `--config` flag when starting Flipt.

```console
flipt --config s3://bucket-name/path/to/config.yml
```

For authenticating with the object storage service, you can use the following environment variables depending on the service:

- `AWS_ACCESS_KEY_ID` and `AWS_SECRET_ACCESS_KEY`
- `AZURE_STORAGE_ACCOUNT` and `AZURE_STORAGE_KEY` or `AZURE_CLIENT_ID`, `AZURE_TENANT_ID`, and `AZURE_CLIENT_SECRET`
- `GOOGLE_APPLICATION_CREDENTIALS`

These environment variables are used by the underlying object storage client libraries to authenticate with the object storage service and are the same values used in our [object storage configuration](/configuration/storage#object).

## Environment Variables

All options in the configuration file can be overridden using environment
variables using the syntax:

```yaml
FLIPT_<SectionName>_<KeyName>
```

Environment variables **MUST** have `FLIPT_` prefix and be in `UPPER_SNAKE_CASE` format.

<Note>
  Using environment variables to override defaults is especially helpful when
  running with Docker as described in the [Docker](/self-hosted/docker)
  documentation.
</Note>

Keys should be uppercase and `.` should be replaced by `_`. For example,
given these configuration settings:

```yaml
server:
  grpc_port: 9000

db:
  url: file:/var/opt/flipt/flipt.db
```

You can override them using:

```console
export FLIPT_SERVER_GRPC_PORT=9001
export FLIPT_DB_URL="postgres://postgres@localhost:5432/flipt?sslmode=disable"
```

[Rest of the content remains unchanged as it doesn't contain any spelling or grammar errors]
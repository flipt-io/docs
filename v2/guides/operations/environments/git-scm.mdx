---
title: Git SCM Integration
description: Configure Flipt v2 to allow deeper integration with your Git Provider
---

Flipt v2 supports Source Control Management (SCM) for Git repositories.

import V2Pro from "/snippets/v2-pro.mdx";

<V2Pro />

## Prerequisites

- [Flipt v2](/v2/quickstart)
- A Flipt v2 environment configured with [Git Sync](/v2/guides/operations/environments/git-sync)
- A Flipt v2 Pro license or trial license

<Note>
  Flipt v2 SCM integration supports most of the major Git providers including
  GitHub, GitLab, BitBucket, Gitea, and Azure DevOps.
</Note>

## Configuring SCM Integration

This section will walk you through configuring Flipt v2 to more deeply integrate with your Git provider to enable features like [Merge Proposals](/v2/introduction#merge-proposals).

<Tabs>
<Tab title="GitHub">

## GitHub Integration

### 1. Create a Personal Access Token (PAT)

1. Go to [GitHub Settings > Developer settings > Personal access tokens](https://github.com/settings/tokens).
2. Click **"Generate new token"**
3. Give your token a name
4. Select a resource owner (e.g. your organization)
5. Select the repositories you want to give access to (or Select all). These should be the same repositories that you have configured to [sync with Flipt](/v2/guides/operations/environments/git-sync).
6. Set an expiration date
7. Select the following repository scopes (**required**):
   - `contents` read and write access
   - `pull-requests` read and write access

![GitHub PAT Scopes](/v2/images/guides/operations/environments/github_pat_scopes.png)

8. Click **"Generate token"** and copy the token. **You will not be able to see it again!**

### 2. Configure GitHub Credentials

Edit your Flipt configuration file to use the GitHub credentials you created in the previous step:

```yaml
credentials:
  github:
    type: access_token
    access_token: <your-personal-access-token>
```

### 3. Configure Flipt Storage with GitHub Remote

Edit your Flipt configuration file to add or update the storage backend that syncs with your GitHub repository:

```yaml
storage:
  github:
    remote: "https://github.com/<your-username>/<your-repo>.git"
    branch: "main"
    poll_interval: "30s"
    credentials: "github"
    backend:
      type: local
      path: "/path/to/local/clone"
```

### 4. Configure an Environment to use GitHub SCM

Edit your Flipt configuration file to add or update the environment that uses the GitHub SCM storage backend and add the `scm` section:

```yaml highlight={6-8}
environments:
  production:
    name: "Production"
    storage: "github"
    default: true
    scm:
      type: github
      credentials: "github"
```

### 5. Start Flipt

Start or restart your Flipt server with the updated configuration. Flipt will now:

- Clone your GitHub repository to the specified local path
- Periodically sync flag state to and from GitHub
- Commit and push changes when you update flags via the Flipt API or UI
- Enable merge proposals in the Flipt UI

![Merge Proposals](/v2/images/guides/operations/environments/merge_proposals.png)

### 6. Troubleshooting

- Ensure your PAT has the correct permissions.
- Make sure the local path is writable by the Flipt process.
- Check Flipt logs for any sync or authentication errors.

</Tab>
<Tab title="BitBucket">

## BitBucket Integration

### 1. Create API Token or App Password

<Warning>
  **App passwords will be deprecated on September 9, 2025** and will stop
  working on June 9, 2026. We strongly recommend using API tokens instead.
</Warning>

**Option A: API Token (Recommended for BitBucket Cloud)**

1. Go to [BitBucket Account Settings > API tokens](https://bitbucket.org/account/settings/api-tokens/)
2. Click **"Create API token"**
3. Give your token a name
4. Select the following scopes (**required**):
   - Repositories: Read, Write
   - Pull requests: Read, Write
5. Click **"Create"** and copy the generated token. **You will not be able to see it again!**

**Option B: App Password (Legacy - Not recommended)**

<Note>
  Only use app passwords if API tokens are not available. App passwords will be
  discontinued in 2025.
</Note>

1. Go to [BitBucket Account Settings > App passwords](https://bitbucket.org/account/settings/app-passwords/)
2. Click **"Create app password"**
3. Give your app password a name
4. Select the following permissions (**required**):
   - Repositories: Read, Write
   - Pull requests: Read, Write
5. Click **"Create"** and copy the generated password. **You will not be able to see it again!**

**Option C: Access Token (For BitBucket Server/Data Center)**

1. Go to your BitBucket Server settings
2. Navigate to Personal access tokens
3. Create a new token with repository and pull request permissions

### 2. Configure BitBucket Credentials

Edit your Flipt configuration file to use the BitBucket credentials:

**Using API Token (Recommended):**

```yaml
credentials:
  bitbucket:
    type: access_token
    access_token: <your-api-token>
```

**Using App Password (Legacy):**

```yaml
credentials:
  bitbucket:
    type: basic
    basic:
      username: <your-bitbucket-username>
      password: <your-app-password>
```

**Using Access Token (BitBucket Server/Data Center):**

```yaml
credentials:
  bitbucket:
    type: access_token
    access_token: <your-access-token>
```

### 3. Configure Flipt Storage with BitBucket Remote

Edit your Flipt configuration file to add or update the storage backend that syncs with your BitBucket repository:

```yaml
storage:
  bitbucket:
    remote: "https://bitbucket.org/<your-username>/<your-repo>.git"
    branch: "main"
    poll_interval: "30s"
    credentials: "bitbucket"
    backend:
      type: local
      path: "/path/to/local/clone"
```

### 4. Configure an Environment to use BitBucket SCM

Edit your Flipt configuration file to add or update the environment that uses the BitBucket SCM storage backend and add the `scm` section:

```yaml highlight={6-8}
environments:
  production:
    name: "Production"
    storage: "bitbucket"
    default: true
    scm:
      type: bitbucket
      credentials: "bitbucket"
```

**For BitBucket Server (Custom Instance):**

```yaml highlight={6-9}
environments:
  production:
    name: "Production"
    storage: "bitbucket"
    default: true
    scm:
      type: bitbucket
      api_url: "https://bitbucket.company.com/api/v2.0"
      credentials: "bitbucket"
```

### 5. Start Flipt

Start or restart your Flipt server with the updated configuration. Flipt will now:

- Clone your BitBucket repository to the specified local path
- Periodically sync flag state to and from BitBucket
- Commit and push changes when you update flags via the Flipt API or UI
- Enable merge proposals in the Flipt UI (using pull requests)

### 6. Troubleshooting

- Ensure your API token, app password, or access token has the correct permissions.
- Make sure the local path is writable by the Flipt process.
- Check Flipt logs for any sync or authentication errors.
- For BitBucket Server/Data Center, verify the API URL is correct.

</Tab>
<Tab title="Azure DevOps">

## Azure DevOps Integration

### 1. Create a Personal Access Token (PAT)

1. Go to your Azure DevOps organization (e.g., `https://dev.azure.com/{your-organization}`)
2. Click on your profile picture in the top right corner
3. Select **"Personal access tokens"**
4. Click **"New Token"**
5. Give your token a name and set an expiration date
6. Select the organization and scope:
   - **Code (read & write)** - Required for repository access
   - **Pull Request (read & write)** - Required for merge proposals
7. Click **"Create"** and copy the token. **You will not be able to see it again!**

### 2. Configure Azure DevOps Credentials

Edit your Flipt configuration file to use the Azure DevOps credentials:

```yaml
credentials:
  azure_devops:
    type: basic
    basic:
      username: <your-username-or-email>
      password: <your-personal-access-token>
```

### 3. Configure Flipt Storage with Azure DevOps Remote

Edit your Flipt configuration file to add or update the storage backend that syncs with your Azure DevOps repository:

```yaml
storage:
  azure_devops:
    remote: "https://dev.azure.com/<your-org>/<your-project>/_git/<your-repo>"
    branch: "main"
    poll_interval: "30s"
    credentials: "azure_devops"
    backend:
      type: local
      path: "/path/to/local/clone"
```

### 4. Configure an Environment to use Azure DevOps SCM

Edit your Flipt configuration file to add or update the environment that uses the Azure DevOps SCM storage backend:

```yaml highlight={6-8}
environments:
  production:
    name: "Production"
    storage: "azure_devops"
    default: true
    scm:
      type: azure_devops
      credentials: "azure_devops"
```

**For Azure DevOps Server (On-premises):**

```yaml highlight={6-9}
environments:
  production:
    name: "Production"
    storage: "azure_devops"
    default: true
    scm:
      type: azure_devops
      api_url: "https://your-server/tfs/{collection}/_apis"
      credentials: "azure_devops"
```

### 5. Start Flipt

Start or restart your Flipt server with the updated configuration. Flipt will now:

- Clone your Azure DevOps repository to the specified local path
- Periodically sync flag state to and from Azure DevOps
- Commit and push changes when you update flags via the Flipt API or UI
- Enable merge proposals in the Flipt UI (using pull requests)

### 6. Troubleshooting

- Ensure your PAT has the correct scopes (Code read/write, Pull Request read/write).
- Make sure the local path is writable by the Flipt process.
- Check Flipt logs for any sync or authentication errors.
- For Azure DevOps Server, verify the API URL format is correct.
- Ensure the repository URL format matches: `https://dev.azure.com/{org}/{project}/_git/{repo}`

</Tab>
<Tab title="GitLab">

## GitLab Integration

### 1. Create a Personal Access Token (PAT)

1. Go to [GitLab Settings > Access Tokens](https://gitlab.com/-/user_settings/personal_access_tokens) (or your GitLab instance)
2. Click **"Add new token"**
3. Give your token a name
4. Set an expiration date (optional but recommended)
5. Select the following scopes (**required**):
   - `api` - Full access to the API
   - `read_repository` - Read access to repositories
   - `write_repository` - Write access to repositories
6. Click **"Create personal access token"** and copy the token. **You will not be able to see it again!**

### 2. Configure GitLab Credentials

Edit your Flipt configuration file to use the GitLab credentials:

```yaml
credentials:
  gitlab:
    type: access_token
    access_token: <your-personal-access-token>
```

### 3. Configure Flipt Storage with GitLab Remote

Edit your Flipt configuration file to add or update the storage backend that syncs with your GitLab repository:

```yaml
storage:
  gitlab:
    remote: "https://gitlab.com/<your-username>/<your-repo>.git"
    branch: "main"
    poll_interval: "30s"
    credentials: "gitlab"
    backend:
      type: local
      path: "/path/to/local/clone"
```

### 4. Configure an Environment to use GitLab SCM

Edit your Flipt configuration file to add or update the environment that uses the GitLab SCM storage backend:

```yaml highlight={6-8}
environments:
  production:
    name: "Production"
    storage: "gitlab"
    default: true
    scm:
      type: gitlab
      credentials: "gitlab"
```

**For GitLab Self-Managed (Self-hosted):**

```yaml highlight={6-9}
environments:
  production:
    name: "Production"
    storage: "gitlab"
    default: true
    scm:
      type: gitlab
      api_url: "https://gitlab.company.com/api/v4"
      credentials: "gitlab"
```

### 5. Start Flipt

Start or restart your Flipt server with the updated configuration. Flipt will now:

- Clone your GitLab repository to the specified local path
- Periodically sync flag state to and from GitLab
- Commit and push changes when you update flags via the Flipt API or UI
- Enable merge proposals in the Flipt UI (using merge requests)

### 6. Troubleshooting

- Ensure your PAT has the correct scopes (api, read_repository, write_repository).
- Make sure the local path is writable by the Flipt process.
- Check Flipt logs for any sync or authentication errors.
- For GitLab Self-Managed, verify the API URL is correct (typically `/api/v4`).
- Ensure the repository URL format is correct.

</Tab>
</Tabs>

## Authentication Formats by Provider

Different Git providers require different authentication formats for optimal compatibility:

| Provider         | Recommended Auth Method | Basic Auth Format                      | Notes                              |
| ---------------- | ----------------------- | -------------------------------------- | ---------------------------------- |
| **GitHub**       | Personal Access Token   | Username: token, Password: (empty)     |                                    |
| **GitLab**       | Personal Access Token   | Username: oauth2, Password: token      |                                    |
| **BitBucket**    | API Token               | Username: (not used), Token: api_token | App passwords deprecated Sept 2025 |
| **Azure DevOps** | Personal Access Token   | Username: username, Password: PAT      |                                    |
| **Gitea**        | Personal Access Token   | Username: token, Password: (empty)     |                                    |

## Conclusion

This guide showed how to configure Flipt to enable merge proposals in the Flipt UI.

You can now use Flipt to manage your flags and use merge proposals to review and approve changes to your flags.

If you have any questions or feedback, please reach out to the Flipt team on [Discord](https://discord.gg/flipt) or [GitHub Discussions](https://github.com/flipt-io/flipt/discussions).

---

**References:**

- [Flipt v2 Environments Configuration](/v2/configuration/environments)
- [Flipt v2 Git Sync](/v2/guides/operations/environments/git-sync)
- [Flipt v2 Merge Proposals](/v2/introduction#merge-proposals)
- [GitHub: Creating a personal access token](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token)
